# 八字排盘系统 (Bazi Paipan System)

这是一个专业、高精度的八字排盘与命理分析工具，集成了万年历、真太阳时计算、五行能量分析以及 AI 辅助解读功能。

## ✨ 主要功能

1.  **专业八字排盘**
    *   支持公历/农历输入。
    *   精准计算四柱（年、月、日、时）。
    *   包含藏干、十神、纳音、神煞、胎元、命宫等详细信息。

2.  **🌍 真太阳时计算 (New)**
    *   **高精度天文算法**：内置专业天文算法，根据经度精确计算真太阳时。
    *   **省市区级联选择**：内置全国省市区经度数据，操作便捷。
    *   **自动换算**：实时显示真太阳时，并自动处理跨天日期的变更。

3.  **五行能量分析**
    *   **量化评分**：对金、木、水、火、土进行精确打分。
    *   **图表展示**：提供雷达图和饼图，直观展示五行强弱分布。
    *   **旺衰判断**：自动分析日主旺衰、喜用神建议。

4.  **智能 AI 解读**
    *   集成 AI 分析提示，可一键复制排盘摘要，辅助进行深度的命理分析。

---

## 🚀 快速开始 (如何运行)

由于本项目包含外部数据文件（`jw.json`），**不能直接双击 `index.html` 打开**，必须在本地服务器环境下运行。

### 方法一：使用启动脚本 (推荐 Mac 用户)
1.  在项目文件夹中找到 **`start_server.command`** 文件。
2.  **双击运行**该文件。
3.  脚本会自动启动服务器并提示访问地址（通常是 `http://localhost:8000`）。

### 方法二：使用 VS Code
1.  安装 **Live Server** 插件。
2.  打开 `index.html`。
3.  点击右下角的 **"Go Live"** 按钮。

---

## 📖 使用指南

### 1. 基础排盘
1.  在页面顶部的日历区域选择日期，或直接在“八字配置”中输入时间。
2.  选择性别（男/女）。
3.  点击 **“应用设置”** 生成排盘。

### 2. 启用真太阳时 (推荐)
为了获得最准确的出生时辰，建议开启此功能：
1.  找到 **“八字配置”** 卡片。
2.  勾选 **“真太阳 - 启用”** 复选框。
3.  在弹出的下拉框中，依次选择出生地的 **省 - 市 - 区/县**。
4.  下方会实时显示计算后的 **“真太阳时”**。
5.  点击 **“应用设置”**，系统将按真太阳时重新排盘。

### 3. 查看分析结果
*   **八字排盘**：查看四柱、十神、神煞等核心信息。
*   **五行能量**：查看五行分数、雷达图和旺衰分析。
*   **AI 分析提示**：在页面底部，点击 **“复制内容”** 按钮，将排盘摘要复制给 AI 助手（如 Gemini、DeepSeek、ChatGPT、Qwen、Claude等），获取详细的命理解读。

---

## 🛠 技术说明
*   **核心算法**：基于 `lunar-javascript` 和 `tyme` 库，结合 Jean Meeus 天文算法实现高精度时间计算。
*   **数据源**：地理位置数据基于国测局坐标系 (GCJ-02)，经度误差在秒级，完全满足命理计算需求。
*   **隐私安全**：所有计算均在本地浏览器完成，不上传任何用户数据。
